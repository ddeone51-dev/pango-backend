<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pango Admin Panel</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-container">
        <div class="login-card">
            <div class="logo-section">
                <i class="fas fa-shield-halved"></i>
                <h1>Pango Admin</h1>
                <p>Property Management System</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="loginEmail">
                        <i class="fas fa-envelope"></i> Email
                    </label>
                    <input type="email" id="loginEmail" required placeholder="admin@pango.co.tz">
                </div>
                <div class="form-group">
                    <label for="loginPassword">
                        <i class="fas fa-lock"></i> Password
                    </label>
                    <input type="password" id="loginPassword" required placeholder="Enter your password">
                </div>
                <button type="submit" class="btn btn-primary btn-block">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
                <div id="loginError" class="error-message" style="display: none;"></div>
            </form>
        </div>
    </div>

    <!-- Admin Panel (Hidden until login) -->
    <div id="adminPanel" style="display: none;">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <i class="fas fa-home-lg-alt"></i>
                <h2>Pango Admin</h2>
            </div>
            
            <nav class="sidebar-nav">
                <a href="#dashboard" class="nav-link active" data-page="dashboard">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                </a>
                
                <div class="nav-section">Content Management</div>
                <a href="#users" class="nav-link" data-page="users">
                    <i class="fas fa-users"></i>
                    <span>Users</span>
                </a>
                <a href="#listings" class="nav-link" data-page="listings">
                    <i class="fas fa-building"></i>
                    <span>Properties</span>
                </a>
                <a href="#moderation" class="nav-link" data-page="moderation">
                    <i class="fas fa-flag"></i>
                    <span>Moderation</span>
                </a>
                
                <div class="nav-section">Operations</div>
                <a href="#bookings" class="nav-link" data-page="bookings">
                    <i class="fas fa-calendar-check"></i>
                    <span>Bookings</span>
                </a>
                <a href="#payments" class="nav-link" data-page="payments">
                    <i class="fas fa-credit-card"></i>
                    <span>Payments</span>
                </a>
                <a href="#disputes" class="nav-link" data-page="disputes">
                    <i class="fas fa-gavel"></i>
                    <span>Disputes</span>
                </a>
                
                <div class="nav-section">Support & Communication</div>
                <a href="#support" class="nav-link" data-page="support">
                    <i class="fas fa-headset"></i>
                    <span>Support Tickets</span>
                </a>
                <a href="#notifications" class="nav-link" data-page="notifications">
                    <i class="fas fa-bell"></i>
                    <span>Notifications</span>
                </a>
                
                <div class="nav-section">Marketing</div>
                <a href="#promotions" class="nav-link" data-page="promotions">
                    <i class="fas fa-tags"></i>
                    <span>Promotions</span>
                </a>
                
                <div class="nav-section">Analytics & Reports</div>
                <a href="#analytics" class="nav-link" data-page="analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analytics</span>
                </a>
                <a href="#reports" class="nav-link" data-page="reports">
                    <i class="fas fa-file-chart-line"></i>
                    <span>Reports</span>
                </a>
                <a href="#audit-logs" class="nav-link" data-page="audit-logs">
                    <i class="fas fa-clipboard-list"></i>
                    <span>Audit Logs</span>
                </a>
                
                <div class="nav-section">System</div>
                <a href="#settings" class="nav-link" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <button id="logoutBtn" class="btn btn-secondary">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Bar -->
            <header class="top-bar">
                <div class="top-bar-left">
                    <button id="sidebarToggle" class="btn-icon">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 id="pageTitle">Dashboard</h1>
                </div>
                <div class="top-bar-right">
                    <div class="admin-profile">
                        <div class="admin-info">
                            <span id="adminName">Admin User</span>
                            <small id="adminEmail">admin@pango.co.tz</small>
                        </div>
                        <div class="admin-avatar">
                            <i class="fas fa-user-shield"></i>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Page Content Container -->
            <div class="content-area">
                <!-- Dashboard Page -->
                <div id="dashboardPage" class="page-content active">
                    <!-- Stats Cards -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon blue">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-details">
                                <h3 id="totalUsers">0</h3>
                                <p>Total Users</p>
                                <span class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i>
                                    <span id="userGrowth">0%</span>
                                </span>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon green">
                                <i class="fas fa-building"></i>
                            </div>
                            <div class="stat-details">
                                <h3 id="totalListings">0</h3>
                                <p>Properties</p>
                                <span class="stat-change">
                                    <span id="activeListings">0 active</span>
                                </span>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon orange">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="stat-details">
                                <h3 id="totalBookings">0</h3>
                                <p>Bookings</p>
                                <span class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i>
                                    <span id="bookingGrowth">0%</span>
                                </span>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon purple">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div class="stat-details">
                                <h3 id="totalRevenue">TZS 0</h3>
                                <p>Total Revenue</p>
                                <span class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i>
                                    <span id="revenueGrowth">0%</span>
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Row -->
                    <div class="charts-grid">
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>Users Over Time</h3>
                                <select id="usersChartPeriod" class="period-selector">
                                    <option value="7days">Last 7 Days</option>
                                    <option value="30days">Last 30 Days</option>
                                    <option value="6months">Last 6 Months</option>
                                    <option value="1year">Last Year</option>
                                </select>
                            </div>
                            <canvas id="usersChart"></canvas>
                        </div>

                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>Revenue Over Time</h3>
                                <select id="revenueChartPeriod" class="period-selector">
                                    <option value="7days">Last 7 Days</option>
                                    <option value="30days" selected>Last 30 Days</option>
                                    <option value="6months">Last 6 Months</option>
                                    <option value="1year">Last Year</option>
                                </select>
                            </div>
                            <canvas id="revenueChart"></canvas>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="activity-grid">
                        <div class="activity-card">
                            <h3>Recent Users</h3>
                            <div id="recentUsersList" class="activity-list"></div>
                        </div>

                        <div class="activity-card">
                            <h3>Recent Bookings</h3>
                            <div id="recentBookingsList" class="activity-list"></div>
                        </div>
                    </div>
                </div>

                <!-- Users Page -->
                <div id="usersPage" class="page-content">
                    <div class="page-header">
                        <div class="page-header-left">
                            <h2>User Management</h2>
                            <p>Manage all users, hosts, and guests</p>
                        </div>
                        <div class="page-header-right">
                            <input type="text" id="userSearch" class="search-input" placeholder="Search users...">
                            <select id="userRoleFilter" class="filter-select">
                                <option value="">All Roles</option>
                                <option value="guest">Guests</option>
                                <option value="host">Hosts</option>
                                <option value="admin">Admins</option>
                            </select>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Joined</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <tr>
                                    <td colspan="8" class="text-center">Loading...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div id="usersPagination" class="pagination"></div>
                </div>

                <!-- Listings Page -->
                <div id="listingsPage" class="page-content">
                    <div class="page-header">
                        <div class="page-header-left">
                            <h2>Property Management</h2>
                            <p>Review and manage property listings</p>
                        </div>
                        <div class="page-header-right">
                            <input type="text" id="listingSearch" class="search-input" placeholder="Search properties...">
                            <select id="listingStatusFilter" class="filter-select">
                                <option value="">All Status</option>
                                <option value="approved">Approved</option>
                                <option value="pending">Pending</option>
                                <option value="rejected">Rejected</option>
                            </select>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Title</th>
                                    <th>Host</th>
                                    <th>Location</th>
                                    <th>Price/Night</th>
                                    <th>Status</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="listingsTableBody">
                                <tr>
                                    <td colspan="8" class="text-center">Loading...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div id="listingsPagination" class="pagination"></div>
                </div>

                <!-- Moderation Page -->
                <div id="moderationPage" class="page-content">
                    <div class="page-header">
                        <div class="page-header-left">
                            <h2>Content Moderation</h2>
                            <p>Review and manage flagged content</p>
                        </div>
                        <div class="page-header-right">
                            <select id="moderationStatusFilter" class="filter-select">
                                <option value="">All Status</option>
                                <option value="pending">Pending</option>
                                <option value="under_review">Under Review</option>
                                <option value="action_taken">Action Taken</option>
                                <option value="dismissed">Dismissed</option>
                            </select>
                            <select id="moderationTypeFilter" class="filter-select">
                                <option value="">All Types</option>
                                <option value="listing">Listings</option>
                                <option value="review">Reviews</option>
                                <option value="user_profile">User Profiles</option>
                                <option value="message">Messages</option>
                            </select>
                        </div>
                    </div>

                    <!-- Moderation Stats -->
                    <div class="stats-grid" style="margin-bottom: 24px;">
                        <div class="stat-card">
                            <div class="stat-icon red">
                                <i class="fas fa-flag"></i>
                            </div>
                            <div class="stat-details">
                                <span class="stat-value" id="totalFlagged">0</span>
                                <span class="stat-label">Total Flagged</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon orange">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="stat-details">
                                <span class="stat-value" id="pendingReviews">0</span>
                                <span class="stat-label">Pending Review</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon green">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="stat-details">
                                <span class="stat-value" id="actionsTaken">0</span>
                                <span class="stat-label">Actions Taken</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon gray">
                                <i class="fas fa-ban"></i>
                            </div>
                            <div class="stat-details">
                                <span class="stat-value" id="dismissedReports">0</span>
                                <span class="stat-label">Dismissed</span>
                            </div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Content Type</th>
                                    <th>Reason</th>
                                    <th>Reported By</th>
                                    <th>Priority</th>
                                    <th>Status</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="moderationTableBody">
                                <tr>
                                    <td colspan="8" class="text-center">Loading...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div id="moderationPagination" class="pagination"></div>
                </div>

                <!-- Bookings Page -->
                <div id="bookingsPage" class="page-content">
                    <div class="page-header">
                        <div class="page-header-left">
                            <h2>Booking Management</h2>
                            <p>Track and manage all bookings</p>
                        </div>
                        <div class="page-header-right">
                            <select id="bookingStatusFilter" class="filter-select">
                                <option value="">All Status</option>
                                <option value="pending">Pending</option>
                                <option value="confirmed">Confirmed</option>
                                <option value="cancelled">Cancelled</option>
                                <option value="completed">Completed</option>
                            </select>
                            <select id="paymentStatusFilter" class="filter-select">
                                <option value="">All Payments</option>
                                <option value="pending">Pending</option>
                                <option value="paid">Paid</option>
                                <option value="refunded">Refunded</option>
                            </select>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Guest</th>
                                    <th>Property</th>
                                    <th>Check-in</th>
                                    <th>Check-out</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Payment</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="bookingsTableBody">
                                <tr>
                                    <td colspan="9" class="text-center">Loading...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div id="bookingsPagination" class="pagination"></div>
                </div>

                <!-- Reports Page -->
                <div id="reportsPage" class="page-content">
                    <div class="page-header">
                        <h2>Reports & Analytics</h2>
                        <p>Generate and export various reports</p>
                    </div>
                    
                    <div class="reports-grid">
                        <div class="report-card">
                            <div class="report-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h3>Financial Report</h3>
                            <p>Revenue, bookings, and transaction details</p>
                            <button class="btn btn-primary" onclick="generateReport('financial')">
                                <i class="fas fa-download"></i> Generate
                            </button>
                        </div>

                        <div class="report-card">
                            <div class="report-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <h3>User Engagement</h3>
                            <p>User activity and registration trends</p>
                            <button class="btn btn-primary" onclick="generateReport('user-engagement')">
                                <i class="fas fa-download"></i> Generate
                            </button>
                        </div>

                        <div class="report-card">
                            <div class="report-icon">
                                <i class="fas fa-building"></i>
                            </div>
                            <h3>Property Performance</h3>
                            <p>Top properties and booking statistics</p>
                            <button class="btn btn-primary" onclick="generateReport('property-performance')">
                                <i class="fas fa-download"></i> Generate
                            </button>
                        </div>
                    </div>

                    <div id="reportResult" class="report-result" style="display: none;">
                        <h3>Report Result</h3>
                        <div id="reportContent"></div>
                        <button class="btn btn-secondary" onclick="exportReport()">
                            <i class="fas fa-file-export"></i> Export as CSV
                        </button>
                    </div>
                </div>

                <!-- Settings Page -->
                <div id="settingsPage" class="page-content">
                    <div class="page-header">
                        <h2>Settings & Configuration</h2>
                        <p>Manage app-wide settings</p>
                    </div>
                    
                    <div class="settings-container">
                        <div class="settings-section">
                            <h3><i class="fas fa-bell"></i> Notifications</h3>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="emailNotifications" checked>
                                    <span>Email notifications for new bookings</span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="smsNotifications">
                                    <span>SMS notifications for urgent matters</span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="adminAlerts" checked>
                                    <span>Admin alerts for new listings</span>
                                </label>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3><i class="fas fa-shield-alt"></i> Security</h3>
                            <div class="setting-item">
                                <label>Require approval for new listings</label>
                                <select id="listingApproval" class="setting-select">
                                    <option value="auto">Automatic</option>
                                    <option value="manual" selected>Manual Approval</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <label>Session timeout (minutes)</label>
                                <input type="number" id="sessionTimeout" value="60" class="setting-input">
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3><i class="fas fa-cog"></i> System</h3>
                            <div class="setting-item">
                                <label>Items per page</label>
                                <select id="itemsPerPage" class="setting-select">
                                    <option value="10" selected>10</option>
                                    <option value="25">25</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <label>Date format</label>
                                <select id="dateFormat" class="setting-select">
                                    <option value="DD/MM/YYYY" selected>DD/MM/YYYY</option>
                                    <option value="MM/DD/YYYY">MM/DD/YYYY</option>
                                    <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                                </select>
                            </div>
                        </div>

                        <div class="settings-actions">
                            <button class="btn btn-primary" onclick="saveSettings()">
                                <i class="fas fa-save"></i> Save Settings
                            </button>
                            <button class="btn btn-secondary" onclick="resetSettings()">
                                <i class="fas fa-undo"></i> Reset to Defaults
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="spinner-overlay" style="display: none;">
        <div class="spinner"></div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script src="js/app.js"></script>
</body>
</html>


